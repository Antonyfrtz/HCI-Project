<!-- saved from url=(0014)about:internet -->
<!DOCTYPE html>
<html>
<head>
    <style type="text/css">
        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
        }

        #map {
            height: 100%;
            width: 100%;
            float: right;
        }
    </style>
    <script type='text/javascript' src='http://maps.google.com/maps/api/js?key=AIzaSyDKiBNeQf9WtuLK-6SatZIyhOiF5uVqtYQ&language=en&callback=initialize'></script>

    <script type="text/javascript">
        // directions
        var directionsDisplay;
        var directionsService = new google.maps.DirectionsService();
        var map;
        // icons
        var horse_marker
        var h_label
        var dest_marker
        var dest_label
        // init
        function initialize() {
            directionsDisplay = new google.maps.DirectionsRenderer({
                markerOptions: {
                    visible: false,
                },
            });
            var myOptions = {
                zoom: 1,
                mapTypeId: google.maps.MapTypeId.ROADMAP,
                center: origin
            }
            var center = { lat: 35.667595, lng: 139.776457 };
            map = new google.maps.Map(
                document.getElementById('map'), {
                zoom: 20,
                minZoom: 16,
                center: center,
                fullscreenControl: false,
                styles: [ // turn off all labels
                    {
                        featureType: "all",
                        elementType: "labels",
                        stylers: [
                            { visibility: "off" }
                        ]
                    }
                ]
            });
            directionsDisplay.setMap(map);
            var trafficLayer = new google.maps.TrafficLayer();
            trafficLayer.setMap(map);
            //Create Markers
            //origin
            horse_marker = new google.maps.Marker({
                position: new google.maps.LatLng(35.667595, 139.776457), //default
                map: map,
                icon: {
                    url: '../../../../Assets/TrojanHorse.png',
                    scaledSize: new google.maps.Size(32, 32)
                }
            });
            h_label = new google.maps.InfoWindow({
                content: 'Your Trojan Horse'
            });
            horse_marker.addListener('click', function () {
                h_label.open(map, horse_marker);
            });
            //destination
            dest_marker = new google.maps.Marker({
                position: new google.maps.LatLng(35.666156, 139.776646), //default
                map: map,
                icon: {
                    url: 'https://developers.google.com/static/maps/documentation/javascript/images/default-marker.png',
                    scaledSize: new google.maps.Size(26, 37)
                }
            });
            dest_label = new google.maps.InfoWindow({
                content: 'Your destination'
            });
            dest_marker.addListener('click', function () {
                dest_label.open(map, dest_marker);
            });
        }

        function calcRoute(origin, destination) {
            // Origin
            horse_marker.setPosition(origin);
            // Destination
            dest_marker.setPosition(destination);
            // Get Route
            var request = {
                origin: origin,
                destination: destination,
                travelMode: google.maps.TravelMode.BICYCLING,
            };
            directionsService.route(request, function (response, status) {
                if (status == google.maps.DirectionsStatus.OK) {
                    directionsDisplay.setDirections(response);
                }
            });
        }
        // change position of the horse
        function changePos(position) {
            horse_marker.setPosition(position);
        }
    </script>
</head>
<body onload="initialize()">
    <div id="map"></div>
</body>
</html>